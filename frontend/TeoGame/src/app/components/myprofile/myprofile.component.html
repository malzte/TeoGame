<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
          defaultHref="tabs/settings"
          [text]="buttonText"
          [icon]="buttonIcon"
          color="dark">
      </ion-back-button>
    </ion-buttons>
    <ion-title>Edit Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <form *ngFor="let us of users" [formGroup]="registerForm">
  <img class="avatar" src="http://localhost:3000/images/{{users[0].image}}"><br>
  <ion-item lines="">
    <ion-label position="stacked">First Name:</ion-label>
    <ion-input placeholder={{users[0].first_name}} readonly={{edit}} class="form-control" formControlName="first_name" type="text"></ion-input>
    <button *ngIf="edit=='true'" slot="end" ion-button icon-only (click)="editprofile()"><ion-icon size="large"  name='lock-closed'></ion-icon></button>
    <button *ngIf="edit=='false'" slot="end" ion-button icon-only (click)="editprofile()"><ion-icon size="large" name='lock-open-outline'></ion-icon></button>
  </ion-item>

  <ion-item lines="">
    <ion-label position="stacked">Last Name:</ion-label>
    <ion-input placeholder={{users[0].last_name}} readonly={{edit}} type="text" required ="true" class="form-control" formControlName="last_name" ></ion-input>
  </ion-item>

  <ion-item lines="">
    <ion-label position="stacked">Email:</ion-label>
    <ion-input placeholder={{users[0].email}} readonly="true" type="text" required ="true" class="form-control" formControlName="email"></ion-input>
  </ion-item>

  <ion-item lines="">
    <ion-label position="stacked">Postal Code:</ion-label>
    <ion-input placeholder={{users[0].postalcode}} readonly="true" type="text" class="form-control" formControlName="postalcode"></ion-input>
  </ion-item>

  <ion-item lines="">
    <ion-label position="stacked">City:</ion-label>
    <ion-input placeholder={{users[0].city}} readonly="true" type="text" class="form-control" formControlName="city"></ion-input>
  </ion-item>

  <ion-item lines="">
    <ion-label position="stacked">Country:</ion-label>
    <ion-input placeholder={{users[0].country}} readonly="true" type="text" class="form-control" formControlName="country"></ion-input>
  </ion-item>

  <ion-item lines="">
    <ion-label position="stacked">Phone:</ion-label>
    <ion-input placeholder={{users[0].phone}} readonly="true" type="text" class="form-control" formControlName="phone"></ion-input>
  </ion-item>

  <ion-item lines="">
    <ion-label position="stacked">Interests:</ion-label>
    <ion-textarea autoGrow="true" placeholder={{users[0].interests}} readonly="true" type="text" class="form-control" formControlName="interests"></ion-textarea>
    
  </ion-item>

  <ion-item lines="">
    <ion-label position="stacked">Username:</ion-label>
    <ion-input placeholder={{users[0].username}} readonly="true" type="text" class="form-control" formControlName="username"></ion-input>
  </ion-item>
  <ion-item lines="">
    <ion-label position="stacked">Profile Picture:</ion-label>
    <ion-input placeholder="{{users[0].image}}" readonly="true" type="file" class="form-control" (change)="onFileChange($event)"></ion-input>
  </ion-item>

  <div class="signupbutton">
  <ion-button expand="block" type="submit" class="btn btn-primary" (click)="register()">Save Changes</ion-button>
  </div>
  </form>
 
</ion-content>